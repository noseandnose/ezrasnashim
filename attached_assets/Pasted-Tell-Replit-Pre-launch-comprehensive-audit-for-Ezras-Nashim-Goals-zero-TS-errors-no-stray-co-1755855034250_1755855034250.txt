Tell Replit:

**“Pre-launch comprehensive audit for Ezras Nashim. Goals: zero TS errors, no stray console logs, faster loads, rock-solid daily progress logic, and full feature regression pass. Do the following and then output a short report (issues fixed + before/after Lighthouse + bundle sizes).**

**Code quality**

* Run and fix: `pnpm typecheck`, `pnpm lint --fix`. Enable strict TS (no implicit any), fix all TS errors/warnings.
* Remove all `console.*` in prod (keep `console.error` via a logger util); strip logs in build.

**Performance**

* Run Lighthouse (Mobile). Target ≥90 Perf/A11y/Best Practices.
* Add code-splitting & lazy-load heavy views (audio, compass, maps); memoize expensive components; remove unused deps; optimize images; prefetch next routes.

**Reliability**

* Add global ErrorBoundary + toast fallback.
* Harden network: retries with backoff for Supabase/FundraiseUp; handle offline/slow 3G; guard geolocation/compass permissions gracefully.
* Standardize time with Asia/Jerusalem; verify shkia-based day rollovers.

**State & Storage**

* Single source of truth for daily progress `en:progress:<YYYY-MM-DD>` {torah, tefillah, tzedaka, celebrated}; midnight reset; idempotent handlers; no duplicate celebration.

**Security**

* Sanitize any HTML, validate inputs, lock CSP, run `pnpm audit` and update vulnerable packages; ensure no secrets in client.

**Accessibility/UX**

* Fix focus order, ARIA labels, color contrast, trap focus in modals; respect `prefers-reduced-motion`.

**Regression checks (must pass)**

* Global Tehillim: full-screen shows “Davening for” above text with icon; completing one does not lock others.
* Home 3 bars persist across refresh; ‘Mazal Tov’ fires once/day.
* Compass heart pulses only on alignment (±5° debounced).
* Days-till-Shabbos uses post-shkia boundary; show ‘Shabbos Mevorachim’ when applicable.
* Discount promo button subtle pulse; stops after first click/session.
* Torah page ‘Learn Shabbos’ & ‘Shmirat Halashon’: open only full-screen (no modal).
* Sponsor-a-Day modal: keyboard doesn’t auto-open.
* Thank-you text rules for personal prayers per spec.

**Build/Deploy**

* Produce prod build; include sourcemaps, chunk analysis, version bump.”\*\*
